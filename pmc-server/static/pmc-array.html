<!-- Array selector button -->
<link rel="import" href="libraries.html">
<link rel="import" href="pmc-component.html">
<link rel="import" href="pmc-array-selector.html">
<script type="text/javascript">
    //Constructor
    function PMCArray() {
        HTMLButtonElement.call(this);
    }

    //Notice that PMCArrayProto is an alias to PMCArray.prototype
    PMCArrayProto = Object.create(HTMLButtonElement.prototype);
    PMCArrayProto.constructor = PMCArray;

    extendMixin(PMCArrayProto, PMCComponent.prototype);

    PMCArrayProto.selectArray = function() {
        var selector = document.getElementById(this.id + "-selector");
        selector.showSelector(this.avarrays);
    }

    PMCArrayProto.changeArray = function(newArrayName) {
        this.innerHTML = newArrayName;
        this.value = newArrayName;
        this.checkValues();
    }

    PMCArrayProto.createdCallback = function () {
        this.addEventListener("click", function (e) {
            this.selectArray();
            return false;
        }, false);

        //Attach a selector
        var selector = document.createElement("pmc-array-selector");
        var selectorId = this.id + "-selector";
        selector.setAttribute("id", selectorId);
        selector.ownerarray = this;
        document.body.appendChild(selector);
    }

    document.registerElement("pmc-array", {
        prototype: PMCArrayProto,
        extends: "button"
    });
</script>

