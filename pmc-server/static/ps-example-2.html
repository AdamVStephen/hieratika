<html>
<head>
<script>
    function add55DiscreteCoilsTableCells(prefix, min, max) {
        var htmlToReturn = "";
        var cellTemplate = '
                <table style="border-width: 1px; background-color:#FFA500">
                <tr>
                    <td colspan="2">MLF-1001</td>
                </tr>
                <tr>
                    <td>r (m)</td><td><pmc-input id="{KEY}@r" name="{KEY}@r"></pmc-input></td>
                </tr>
                <tr>
                    <td>z (m)</td><td><pmc-input id="{KEY}@z" name="{KEY}@z"></pmc-input></td>
                </tr>
                <tr>
                    <td>angle (deg)</td><td><pmc-input id="{KEY}@angle" name="{KEY}@angle"></pmc-input></td>
                </tr>
            </table>'
        var reg = new RegExp("{KEY}", "g");
        var cellCount = 0;
        for(var i=min; i<=max; i++) {
            if ((cellCount % 4) == 0) {
                htmlToReturn += "<tr>\n";
            }
            htmlToReturn += "<td>\n";
            var toReplace = prefix;
            if (i<10) {
                toReplace += ("0" + i);
            }
            else {
                toReplace += ("0" + i);
            }
            htmlToReturn += cellTemplate.replace(reg, toReplace);
            htmlToReturn += "</td>\n";
            cellCount++;
            if ((cellCount % 4) == 1) {
                htmlToReturn += "</tr>\n";
            }
        }
        return htmlToReturn;
    }

    function loadTables() {
        console.log("WHAT??");
        var table = document.getElementById("tableAA1");
        table.innerHTML = add55DiscreteCoilsTableCells("55A0::MLFS@AA@M100", 1, 4);
    }
</script>
</head>
<body onload="loadTables()">
    <h3>AA sensors sector 1</h3>
        <table id="tableAA1" style="border-style: dotted;border-width: 3px">
            <!--<td>Sensors</td><td><pmc-struct-browser id="55A0::MLFS@AA" name="55A0::MLFS"></pmc-struct-browser></td>-->
        </table>

    </body>
</html>
