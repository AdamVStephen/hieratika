<html>
    <head>
        <link rel="import" href="libraries.html">
        <link rel="import" href="htk-component.html">
    </head>
    <body>
        <template id="tcubicle">
            <svg width="190" height="822" id="cubicle">
                <rect width="190" height="822" style="fill:rgb(255,255,255);stroke-width:10;stroke:rgb(0,0,217)" />
            </svg> 
        </template>
        <script>
            (function () {
                var importDoc = document.currentScript.ownerDocument; // importee

                class HtkCubicleEditor extends HtkComponent {
                    constructor() {
                        super();
                    }

                    domLoaded () {
                        var numberOfComponents = this.childElementCount;
                        var cubicleSvg = this.shadowRoot.querySelector("#cubicle");
                        for (var i=0; i<numberOfComponents; i++) {
                            var component = this.children[i];
                            cubicleSvg.appendChild(component.shadowRoot);
                        }
                    }

                    getTemplate() {
                        var template = importDoc.querySelector("#tcubicle");
                        return template;
                    }
                }
                document.registerElement("htk-cubicle-editor", {
                    prototype: HtkCubicleEditor.prototype
                });
            })();
        </script>

    </body>
</html>
